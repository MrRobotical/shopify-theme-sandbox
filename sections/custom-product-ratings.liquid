{% schema %}
    {
      "name": "Product Ratings",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Customer Reviews"
        }
      ],
      "blocks": [
        {
          "type": "review",
          "name": "Review",
          "settings": [
            {
              "type": "text",
              "id": "reviewer_name",
              "label": "Reviewer Name"
            },
            {
              "type": "textarea",
              "id": "review_text",
              "label": "Review Text"
            },
            {
              "type": "range",
              "id": "rating",
              "label": "Rating",
              "default": 4,
              "min": 1,
              "max": 5,
              "step": 1
            }
          ]
        }
      ],
      "presets": [
        {
          "name": "Product Ratings",
          "category": "Custom"
        }
      ]
    }
    {% endschema %}
    
    <div class="shopify-section">
      <div class="page-width">
        <div class="product-reviews">
          <h2>{{ section.settings.heading }}</h2>
          {% for block in section.blocks %}
            <div class="review-block">
              <h3 class="reviewer-name">{{ block.settings.reviewer_name }}</h3>
              <p>{{ block.settings.review_text }}</p>
              <div class="stars" data-rating="{{ block.settings.rating }}"></div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
    
    <style>
      .product-reviews h2 {
        font-size: 24px;
        margin-bottom: 10px;
      }
      .review-block {
        margin-bottom: 20px;
        border-bottom: 1px solid #e1e1e1;
        padding-bottom: 10px;
      }
      .review-block h3 {
        font-size: 18px;
        margin-bottom: 5px;
      }
      .stars {
        display: inline-block;
      }
      .star {
        color: #FFD700;
        font-size: 20px;
      }
    </style>
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const starsContainers = document.querySelectorAll('.stars');
        starsContainers.forEach(container => {
          const rating = container.getAttribute('data-rating');
          container.innerHTML = '★'.repeat(rating) + '☆'.repeat(5 - rating);
        });
      });
    </script>
    
    